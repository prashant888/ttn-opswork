<configuration>
  <conversionRule conversionWord="coloredLevel" converterClass="play.api.Logger$ColoredLevel" />

  <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file><%= node.graylog2[:web][:log_file] %></file>
    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
      <!-- Daily rollover -->
      <fileNamePattern><%= node.graylog2[:web][:log_file_pattern] %></fileNamePattern>

      <!-- Keep 30 days worth of history -->
      <maxHistory><%= node.graylog2[:web][:history] %></maxHistory>
    </rollingPolicy>

     <encoder>
       <pattern><%= node.graylog2[:web][:log_pattern] %></pattern>
     </encoder>
  </appender>

  <logger name="play" level="<%= node.graylog2[:web][:log_level] %>" />
  <logger name="application" level="<%= node.graylog2[:web][:log_level] %>" />

  <root level="ERROR">
    <appender-ref ref="FILE" />
  </root>
</configuration>
